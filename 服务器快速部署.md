# æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ðŸš€ ä¸€é”®éƒ¨ç½²ï¼ˆæŽ¨èï¼‰

### åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# 1. ä¸‹è½½å¹¶è¿è¡Œéƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/jinghoor/gongzuoliu123/main/server-deploy.sh -o server-deploy.sh
chmod +x server-deploy.sh
sudo bash server-deploy.sh
```

æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

## ðŸ“‹ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

### 1. è¿žæŽ¥åˆ°æœåŠ¡å™¨

```bash
ssh root@your-server-ip
```

### 2. å®‰è£… Dockerï¼ˆå¦‚æžœæœªå®‰è£…ï¼‰

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
sudo usermod -aG docker $USER
```

### 3. å®‰è£… Docker Compose

```bash
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

### 4. å…‹éš†é¡¹ç›®

```bash
mkdir -p /opt/workflow
cd /opt/workflow
git clone https://github.com/jinghoor/gongzuoliu123.git .
```

### 5. é…ç½®çŽ¯å¢ƒå˜é‡

```bash
cat > .env << 'EOF'
PORT=1888
NODE_ENV=production
DOUBAO_API_KEY=09484874-9519-4aa3-9cd4-f84ef0c6d44e
EOF
```

### 6. åˆ›å»ºæ•°æ®ç›®å½•

```bash
mkdir -p data uploads logs
```

### 7. å¯åŠ¨æœåŠ¡

```bash
docker-compose up -d --build
```

### 8. æŸ¥çœ‹æ—¥å¿—

```bash
docker-compose logs -f
```

## âœ… éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose ps

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:1888/health

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f app
```

## ðŸ”„ æ›´æ–°ä»£ç 

```bash
cd /opt/workflow
git pull
docker-compose up -d --build
```

## ðŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose stop

# é‡å¯æœåŠ¡
docker-compose restart

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# è¿›å…¥å®¹å™¨
docker exec -it cross-border-workflow sh
```

## ðŸ”¥ é˜²ç«å¢™é…ç½®

```bash
# Ubuntu/Debian
sudo ufw allow 1888/tcp
sudo ufw reload

# CentOS
sudo firewall-cmd --permanent --add-port=1888/tcp
sudo firewall-cmd --reload
```

## ðŸŒ é…ç½®åŸŸåï¼ˆå¯é€‰ï¼‰

å¦‚æžœéœ€è¦ä½¿ç”¨åŸŸåè®¿é—®ï¼Œè¯·å‚è€ƒ `æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md` ä¸­çš„ Nginx é…ç½®éƒ¨åˆ†ã€‚

## ðŸ“ çŽ¯å¢ƒå˜é‡è¯´æ˜Ž

| å˜é‡å | è¯´æ˜Ž | å¿…éœ€ |
|--------|------|------|
| `PORT` | åº”ç”¨ç«¯å£ï¼Œé»˜è®¤ 1888 | å¦ |
| `NODE_ENV` | çŽ¯å¢ƒï¼Œproduction | å¦ |
| `DOUBAO_API_KEY` | è±†åŒ… API Key | å¦ |
| `OPENAI_API_KEY` | OpenAI API Key | å¦ |

## ðŸ› æ•…éšœæŽ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker-compose logs app

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep 1888
```

### æ— æ³•è®¿é—®

1. æ£€æŸ¥é˜²ç«å¢™ï¼š`sudo ufw status`
2. æ£€æŸ¥å®¹å™¨çŠ¶æ€ï¼š`docker-compose ps`
3. æ£€æŸ¥ç«¯å£æ˜ å°„ï¼š`docker ps`

## ðŸ“ž èŽ·å–å¸®åŠ©

æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md`
